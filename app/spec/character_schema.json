{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "FERIXDI Character",
  "type": "object",
  "required": ["id", "name_ru", "group", "appearance_ru", "speech_style_ru", "behavior_ru", "speech_pace", "swear_level", "role_default", "signature_words_ru", "prompt_tokens", "modifiers"],
  "properties": {
    "id": { "type": "string", "pattern": "^[a-z0-9_]+$" },
    "name_ru": { "type": "string" },
    "group": { "type": "string" },
    "tags": { "type": "array", "items": { "type": "string" } },
    "appearance_ru": { "type": "string", "minLength": 20 },
    "speech_style_ru": { "type": "string", "minLength": 10 },
    "behavior_ru": { "type": "string", "minLength": 10 },
    "speech_pace": { "type": "string", "enum": ["slow", "normal", "fast"] },
    "swear_level": { "type": "integer", "minimum": 0, "maximum": 3 },
    "role_default": { "type": "string", "enum": ["A", "B", "any"] },
    "signature_words_ru": { "type": "array", "items": { "type": "string" }, "minItems": 1 },
    "prompt_tokens": {
      "type": "object",
      "required": ["character_en"],
      "properties": {
        "character_en": { "type": "string", "minLength": 20 }
      }
    },
    "modifiers": {
      "type": "object",
      "required": ["hook_style", "laugh_style"],
      "properties": {
        "hook_style": { "type": "string" },
        "laugh_style": { "type": "string" }
      }
    },
    "compatibility": {
      "type": "string",
      "enum": ["meme", "conflict", "calm", "chaotic", "balanced"]
    },
    "identity_anchors": {
      "type": "object",
      "description": "Якоря стабильности для Veo — предотвращают перерисовку между генерациями",
      "properties": {
        "face_silhouette": { "type": "string", "description": "Отличимый силуэт лица (подбородок/скулы/нос/брови)" },
        "signature_element": { "type": "string", "description": "Один заметный элемент (серьги/платок/кепка/очки)" },
        "micro_gesture": { "type": "string", "description": "Повторяемый микрожест (lip bite / усмешка / бровь)" },
        "wardrobe_anchor": { "type": "string", "description": "Якорный элемент одежды (текстура/стиль)" }
      }
    },
    "vibe_archetype": {
      "type": "string",
      "description": "Архетип вайба: переопределяет дефолтный из golden_standard"
    },
    "world_aesthetic": {
      "type": "string",
      "description": "Эстетика мира персонажа (VIP-деревня / городской гранж / офис)"
    },
    "biology_override": {
      "type": "object",
      "description": "Переопределение биологических параметров из golden_standard",
      "properties": {
        "age": { "type": "string" },
        "skin_tokens": { "type": "array", "items": { "type": "string" } },
        "eye_tokens": { "type": "array", "items": { "type": "string" } }
      }
    }
  }
}
